# stockstation
用于 获取、存储 股票的交易数据

获取历史数据 get_history

获取实时数据 get_real

### 引入包
```python
import stockstation
```

### 从网上更新指定代码的历史数据

下载 600848 和 000520 的日线交易数据

```python
stockstation.get_history('600848, 000520') 
```
以字典格式返回 pandas DataFrame
```
{'600848':              open  close   high   low volume turnover
datetime                                             
2001-02-05   9.93  10.00  10.34  9.86   4685     1.39
2001-02-06   9.94  10.23  10.25  9.90   4411     1.31
2001-02-07  10.18  10.02  10.18  9.98   1637     0.49
2001-02-08   9.93   9.38  10.21  9.35   3656     1.09
2001-02-09   9.35   9.52   9.61  9.35   2620     0.78
...           ...    ...    ...   ...    ...      ...
2024-07-15   9.37   9.39   9.42  9.22  52429     0.22
2024-07-16   9.38   9.38   9.43  9.32  30132     0.13
2024-07-17   9.38   9.53   9.60  9.35  50253     0.21
2024-07-18   9.52   9.59   9.60  9.43  47611     0.20
2024-07-19   9.55   9.57   9.62  9.45  60845     0.25

[5241 rows x 6 columns], '000520':             open close  high   low  volume turnover
datetime                                           
2001-02-05  4.58  4.45  4.60  4.42   17150     0.58
2001-02-06  4.39  4.45  4.45  4.36   16728     0.57
2001-02-07  4.45  4.47  4.51  4.40   11835     0.40
2001-02-08  4.49  4.26  4.51  4.22   21113     0.72
2001-02-09  4.28  4.32  4.38  4.28   20131     0.68
...          ...   ...   ...   ...     ...      ...
2024-07-15  2.35  2.28  2.35  2.27  228389     2.26
2024-07-16  2.28  2.30  2.30  2.24  179354     1.77
2024-07-17  2.29  2.26  2.32  2.26  162639     1.61
2024-07-18  2.23  2.24  2.25  2.17  234253     2.31
2024-07-19  2.24  2.22  2.27  2.18  227469     2.25

[4955 rows x 6 columns]}
```

get_history 参数介绍：

```python
def get_history(symbols=None,
                period='d',
                start=None,
                end=None,
                fields="datetime,open,close,high,low,volume,turnover",
                adjust='-1',
                spider: object = None,
                update=True,
                path=DATASFOLDER,
                savetype='csv'
                ):
    """
    获取股票历史数据
    :param symbols:     股票代码    支持str,list、tuple格式，多个以,分隔    None为全市场
    :param period:      k线周期，   str格式，d日 m月 w周 s季 y年 5分钟
    :param start:       开始日期    str格式，'20010203'                    None为最早日期
    :param end:         结束日期    str格式，'20240511'                    None为今天
    :param fields:      k线字段    str格式，默认包含7条
    :param adjust:      复权       str格式，-1前、0不、1后              默认前复权 -1
    :param spider:        来源网站    数据采集类 对象
    :param update:      是否从网上更新     默认是
    :param path:        如果update为False path为本地读取路径 如果update为True path为本地存储路径
    :param savetype:  存储的文件类型 默认是csv
    :return:   字典
                    {'600848':              open  close   high   low volume turnover
                                datetime                                             
                                2001-02-05   9.93  10.00  10.34  9.86   4685     1.39
                                2001-02-06   9.94  10.23  10.25  9.90   4411     1.31
                                2001-02-07  10.18  10.02  10.18  9.98   1637     0.49
                                2001-02-08   9.93   9.38  10.21  9.35   3656     1.09
                                2001-02-09   9.35   9.52   9.61  9.35   2620     0.78
                                ...           ...    ...    ...   ...    ...      ...
                                2024-07-15   9.37   9.39   9.42  9.22  52429     0.22
                                2024-07-16   9.38   9.38   9.43  9.32  30132     0.13
                                2024-07-17   9.38   9.53   9.60  9.35  50253     0.21
                                2024-07-18   9.52   9.59   9.60  9.43  47611     0.20
                                2024-07-19   9.55   9.57   9.62  9.45  60845     0.25
                                
                                [5241 rows x 6 columns], '000520':             open close  high   low  volume turnover
                                datetime                                           
                                2001-02-05  4.58  4.45  4.60  4.42   17150     0.58
                                2001-02-06  4.39  4.45  4.45  4.36   16728     0.57
                                2001-02-07  4.45  4.47  4.51  4.40   11835     0.40
                                2001-02-08  4.49  4.26  4.51  4.22   21113     0.72
                                2001-02-09  4.28  4.32  4.38  4.28   20131     0.68
                                ...          ...   ...   ...   ...     ...      ...
                                2024-07-15  2.35  2.28  2.35  2.27  228389     2.26
                                2024-07-16  2.28  2.30  2.30  2.24  179354     1.77
                                2024-07-17  2.29  2.26  2.32  2.26  162639     1.61
                                2024-07-18  2.23  2.24  2.25  2.17  234253     2.31
                                2024-07-19  2.24  2.22  2.27  2.18  227469     2.25
                                
                                [4955 rows x 6 columns]}
    """
```